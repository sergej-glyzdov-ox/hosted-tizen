<!doctype html>
<html>
<head>
    <title>Dash.js Rocks</title>
    <style>
        * {
            overflow: hidden;
        }
        video {
            width: 1920px;
            height: 1080px;
        }
    </style>
</head>
<body>
<div>
    <video id="videoPlayer" controls></video>
</div>
<script src="https://cdn.dashjs.org/v4.7.4/dash.all.min.js"></script>
<script>
    (function () {
        var url1 = "https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd";
        var url2 = "https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd";

        var url = url1;

        var player = dashjs.MediaPlayer().create();
        player.initialize(document.querySelector("#videoPlayer"), undefined, false, undefined);

        player.updateSettings({
      streaming: {
        cacheInitSegments: true,
        abr: {
          initialBitrate: { video: 40000000 },
          minBitrate: { video: 4000000 },
        },
        buffer: {
          // Makes no sense to keep buffer, since the prod usecase will not allow seeking back
          stableBufferTime: 12,
          // We need do keep > 3 sec for allowing adjustments by a player syncer on TVs
          bufferToKeep: 6,
        },
      },
    });
    

        document.addEventListener("keydown", function() {
            console.log('uttach', url);
            player.attachSource(url, 0);
            url = url2;
            document.querySelector("#videoPlayer").play();
        });
    })();
</script>
</body>
</html>